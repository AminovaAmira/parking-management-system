# –ò–∑–º–µ–Ω–µ–Ω–∏—è –ª–æ–≥–∏–∫–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –æ–ø–ª–∞—Ç—ã

## –î–∞—Ç–∞: 16.12.2025

## –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### –ü—Ä–æ–±–ª–µ–º—ã:
1. ‚ùå –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø–∞—Ä–∫–æ–≤–∫–∏ –¥–µ–Ω—å–≥–∏ —Å–ø–∏—Å—ã–≤–∞–ª–∏—Å—å —Å –±–∞–ª–∞–Ω—Å–∞, –Ω–æ —ç—Ç–æ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–ª–æ—Å—å –≤ "–ú–æ–∏—Ö –ø–ª–∞—Ç–µ–∂–∞—Ö" –∏ –∏—Å—Ç–æ—Ä–∏–∏
2. ‚ùå –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç–∞–ª–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ: –¥–µ–Ω—å–≥–∏ —Å–ø–∏—Å—ã–≤–∞–ª–∏—Å—å –ø—Ä–∏ –Ω–∞—á–∞–ª–µ –ø–∞—Ä–∫–æ–≤–∫–∏, –∞ –Ω–µ –ø—Ä–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏

### –†–µ—à–µ–Ω–∏–µ:

## –ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã

### 1. **–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è**
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –±–∞–ª–∞–Ω—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ **–°–†–ê–ó–£ —Å–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è** estimated_cost —Å –±–∞–ª–∞–Ω—Å–∞
- ‚úÖ –°–æ–∑–¥–∞–µ—Ç—Å—è `Transaction` —Å —Ç–∏–ø–æ–º `"booking_charge"`
- ‚úÖ –°–æ–∑–¥–∞–µ—Ç—Å—è `Payment` —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `"completed"` –∏ –º–µ—Ç–æ–¥–æ–º `"balance"`
- ‚úÖ –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `"confirmed"` (–≤–º–µ—Å—Ç–æ `"pending"`)

**–ü—Ä–∏–º–µ—Ä:**
```
–ë–∞–ª–∞–Ω—Å: 1000 ‚ÇΩ
–°—Ç–æ–∏–º–æ—Å—Ç—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è (2 —á–∞—Å–∞): 200 ‚ÇΩ
–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è:
  - –ë–∞–ª–∞–Ω—Å: 800 ‚ÇΩ
  - –°–æ–∑–¥–∞–Ω Payment –Ω–∞ 200 ‚ÇΩ (—Å—Ç–∞—Ç—É—Å: completed)
  - –°–æ–∑–¥–∞–Ω–∞ Transaction (booking_charge)
```

### 2. **–ü—Ä–∏ –Ω–∞—á–∞–ª–µ –ø–∞—Ä–∫–æ–≤–æ—á–Ω–æ–π —Å–µ—Å—Å–∏–∏**
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è, —á—Ç–æ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Å—Ç–∞—Ç—É—Å–µ `"confirmed"`
- ‚úÖ **–î–µ–Ω—å–≥–∏ –ù–ï —Å–ø–∏—Å—ã–≤–∞—é—Ç—Å—è** (–æ–Ω–∏ —É–∂–µ —Å–ø–∏—Å–∞–Ω—ã –ø—Ä–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏)
- ‚úÖ –°–æ–∑–¥–∞–µ—Ç—Å—è –ø–∞—Ä–∫–æ–≤–æ—á–Ω–∞—è —Å–µ—Å—Å–∏—è, —Å–≤—è–∑–∞–Ω–Ω–∞—è —Å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º

### 3. **–ü—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –ø–∞—Ä–∫–æ–≤–æ—á–Ω–æ–π —Å–µ—Å—Å–∏–∏**

#### –°–µ—Å—Å–∏—è –° –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º:
- ‚úÖ –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å (actual_cost)
- ‚úÖ –°—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç—Å—è —Å estimated_cost

**–ï—Å–ª–∏ –ø–∞—Ä–∫–æ–≤–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —Ä–∞–Ω—å—à–µ (actual_cost < estimated_cost):**
```
Estimated: 200 ‚ÇΩ
Actual: 150 ‚ÇΩ
–†–∞–∑–Ω–∏—Ü–∞: 50 ‚ÇΩ ‚Üí –í–û–ó–í–†–ê–¢ –Ω–∞ –±–∞–ª–∞–Ω—Å
  - –°–æ–∑–¥–∞–µ—Ç—Å—è Transaction —Å —Ç–∏–ø–æ–º "refund"
  - –ë–∞–ª–∞–Ω—Å: 800 + 50 = 850 ‚ÇΩ
```

**–ï—Å–ª–∏ –ø–∞—Ä–∫–æ–≤–∫–∞ –¥–ª–∏–ª–∞—Å—å –¥–æ–ª—å—à–µ (actual_cost > estimated_cost):**
```
Estimated: 200 ‚ÇΩ
Actual: 250 ‚ÇΩ
–†–∞–∑–Ω–∏—Ü–∞: 50 ‚ÇΩ ‚Üí –®–¢–†–ê–§ (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ —Å–ø–∏—Å–∞–Ω–∏–µ)
  - –°–æ–∑–¥–∞–µ—Ç—Å—è Transaction —Å —Ç–∏–ø–æ–º "penalty"
  - –ë–∞–ª–∞–Ω—Å: 800 - 50 = 750 ‚ÇΩ
```

- ‚úÖ –°—É—â–µ—Å—Ç–≤—É—é—â–∏–π Payment –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è:
  - –°–≤—è–∑—ã–≤–∞–µ—Ç—Å—è —Å `session_id`
  - –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Å—É–º–º–∞ –Ω–∞ actual_cost
- ‚úÖ –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–º–µ—á–∞–µ—Ç—Å—è –∫–∞–∫ `"completed"`

#### –°–µ—Å—Å–∏—è –ë–ï–ó –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è:
- ‚úÖ –ü—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è —Å—Ç–æ–∏–º–æ—Å—Ç—å
- ‚úÖ –°–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è —Å –±–∞–ª–∞–Ω—Å–∞
- ‚úÖ –°–æ–∑–¥–∞–µ—Ç—Å—è `Transaction` —Å —Ç–∏–ø–æ–º `"parking_charge"`
- ‚úÖ –°–æ–∑–¥–∞–µ—Ç—Å—è `Payment` —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `"completed"` –∏ –º–µ—Ç–æ–¥–æ–º `"balance"`

## –ò–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞ Frontend

### –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–¥—Å–∫–∞–∑–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é:

1. **–í –¥–∏–∞–ª–æ–≥–µ —Å–æ–∑–¥–∞–Ω–∏—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è:**
   - –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ (–æ—Ä–∞–Ω–∂–µ–≤–æ–µ): "–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –±—É–¥–µ—Ç —Å—Ä–∞–∑—É —Å–ø–∏—Å–∞–Ω–∞ —Å –≤–∞—à–µ–≥–æ –±–∞–ª–∞–Ω—Å–∞"
   - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤–æ–∑–≤—Ä–∞—Ç–µ/—à—Ç—Ä–∞—Ñ–µ

2. **–ü—Ä–∏ –≤—ã–±–æ—Ä–µ –º–µ—Å—Ç–∞:**
   - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏–º–µ—Ä–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å
   - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å
   - –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ: "üí∞ –≠—Ç–∞ —Å—É–º–º–∞ –±—É–¥–µ—Ç —Å–ø–∏—Å–∞–Ω–∞ —Å –≤–∞—à–µ–≥–æ –±–∞–ª–∞–Ω—Å–∞ (...‚ÇΩ) –ø—Ä–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è"

## –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã

### Backend:
- `backend/app/api/endpoints/bookings.py` - –∏–∑–º–µ–Ω–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ create_booking
- `backend/app/api/endpoints/sessions.py` - –∏–∑–º–µ–Ω–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ start_session –∏ end_session

### Frontend:
- `frontend/src/pages/DashboardPage.jsx` - –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –∏ –ø–æ–¥—Å–∫–∞–∑–∫–∏

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–π –ª–æ–≥–∏–∫–∏

‚úÖ **–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –≤—Å–µ –ø–ª–∞—Ç–µ–∂–∏ –≤ –∏—Å—Ç–æ—Ä–∏–∏
‚úÖ **–ß–µ—Å—Ç–Ω–æ—Å—Ç—å** - –¥–µ–Ω—å–≥–∏ —Å–ø–∏—Å—ã–≤–∞—é—Ç—Å—è —Å—Ä–∞–∑—É –ø—Ä–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏
‚úÖ **–í–æ–∑–≤—Ä–∞—Ç** - –Ω–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ —Å—Ä–µ–¥—Å—Ç–≤–∞ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
‚úÖ **–®—Ç—Ä–∞—Ñ—ã** - –∑–∞ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ –Ω–∞—á–∏—Å–ª—è—é—Ç—Å—è
‚úÖ **–£–¥–æ–±—Å—Ç–≤–æ** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –±–∞–ª–∞–Ω—Å –∏ –ø–æ–Ω–∏–º–∞–µ—Ç, —á—Ç–æ –±—É–¥–µ—Ç —Å–ø–∏—Å–∞–Ω–æ

## –ü—Ä–∏–º–µ—Ä –ø–æ–ª–Ω–æ–≥–æ —Ü–∏–∫–ª–∞

```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:
   - –ë–∞–ª–∞–Ω—Å: 1000 ‚ÇΩ
   - –°–æ–∑–¥–∞–µ—Ç –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ 2 —á–∞—Å–∞ (200 ‚ÇΩ)

2. –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è:
   ‚úÖ –°–ø–∏—Å–∞–Ω–æ 200 ‚ÇΩ —Å –±–∞–ª–∞–Ω—Å–∞ ‚Üí –ë–∞–ª–∞–Ω—Å: 800 ‚ÇΩ
   ‚úÖ –°–æ–∑–¥–∞–Ω Payment #1: 200 ‚ÇΩ (completed)
   ‚úÖ –°–æ–∑–¥–∞–Ω Transaction (booking_charge)

3. –ü—Ä–∏ –Ω–∞—á–∞–ª–µ –ø–∞—Ä–∫–æ–≤–∫–∏:
   ‚úÖ –ù–∞—á–∞—Ç–∞ —Å–µ—Å—Å–∏—è
   ‚úÖ –î–µ–Ω—å–≥–∏ –ù–ï —Å–ø–∏—Å—ã–≤–∞—é—Ç—Å—è (—É–∂–µ —Å–ø–∏—Å–∞–Ω—ã)

4. –ü—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ (—á–µ—Ä–µ–∑ 1.5 —á–∞—Å–∞):
   Actual cost: 150 ‚ÇΩ
   ‚úÖ –í–æ–∑–≤—Ä–∞—Ç 50 ‚ÇΩ ‚Üí –ë–∞–ª–∞–Ω—Å: 850 ‚ÇΩ
   ‚úÖ Payment #1 –æ–±–Ω–æ–≤–ª–µ–Ω: 150 ‚ÇΩ (—Å–≤—è–∑–∞–Ω —Å session)
   ‚úÖ –°–æ–∑–¥–∞–Ω Transaction (refund: 50 ‚ÇΩ)

5. –í –∏—Å—Ç–æ—Ä–∏–∏:
   ‚úÖ –í–∏–¥–Ω–∞ —Å–µ—Å—Å–∏—è —Å–æ —Å—Ç–æ–∏–º–æ—Å—Ç—å—é 150 ‚ÇΩ
   ‚úÖ –í–∏–¥–µ–Ω Payment –Ω–∞ 150 ‚ÇΩ (completed)
   ‚úÖ –°—Ç–∞—Ç—É—Å: "–û–ø–ª–∞—á–µ–Ω–æ"
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –≤–æ–∑–≤—Ä–∞—Ç
1. –ü–æ–ø–æ–ª–Ω–∏—Ç–µ –±–∞–ª–∞–Ω—Å –Ω–∞ 500 ‚ÇΩ
2. –°–æ–∑–¥–∞–π—Ç–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ 2 —á–∞—Å–∞
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –±–∞–ª–∞–Ω—Å —É–º–µ–Ω—å—à–∏–ª—Å—è
4. –ù–∞—á–Ω–∏—Ç–µ –ø–∞—Ä–∫–æ–≤–∫—É
5. –ó–∞–≤–µ—Ä—à–∏—Ç–µ –ø–∞—Ä–∫–æ–≤–∫—É —á–µ—Ä–µ–∑ 1 —á–∞—Å
6. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤–µ—Ä–Ω—É–ª–∞—Å—å —á–∞—Å—Ç—å —Å—Ä–µ–¥—Å—Ç–≤
7. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏—Å—Ç–æ—Ä–∏—é - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤–∏–¥–µ–Ω –ø–ª–∞—Ç–µ–∂

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —à—Ç—Ä–∞—Ñ
1. –°–æ–∑–¥–∞–π—Ç–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ 1 —á–∞—Å
2. –ù–∞—á–Ω–∏—Ç–µ –ø–∞—Ä–∫–æ–≤–∫—É
3. –ó–∞–≤–µ—Ä—à–∏—Ç–µ –ø–∞—Ä–∫–æ–≤–∫—É —á–µ—Ä–µ–∑ 2 —á–∞—Å–∞
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–ø–∏—Å–∞–Ω –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —à—Ç—Ä–∞—Ñ
5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏—Å—Ç–æ—Ä–∏—é - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤–∏–¥–µ–Ω –ø–ª–∞—Ç–µ–∂ —Å –ø–æ–ª–Ω–æ–π —Å—É–º–º–æ–π

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –ü–∞—Ä–∫–æ–≤–∫–∞ –±–µ–∑ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
1. –ù–∞—á–Ω–∏—Ç–µ –ø–∞—Ä–∫–æ–≤–∫—É –±–µ–∑ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
2. –ó–∞–≤–µ—Ä—à–∏—Ç–µ –ø–∞—Ä–∫–æ–≤–∫—É
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –¥–µ–Ω—å–≥–∏ —Å–ø–∏—Å–∞–Ω—ã —Å –±–∞–ª–∞–Ω—Å–∞
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏—Å—Ç–æ—Ä–∏—é - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤–∏–¥–µ–Ω –ø–ª–∞—Ç–µ–∂

## –†–µ–∑—É–ª—å—Ç–∞—Ç

üéâ –¢–µ–ø–µ—Ä—å —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ:
- –ü–ª–∞—Ç–µ–∂–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –∏—Å—Ç–æ—Ä–∏–∏
- –õ–æ–≥–∏–∫–∞ —Å–ø–∏—Å–∞–Ω–∏—è –ø—Ä–æ–∑—Ä–∞—á–Ω–∞ –∏ –ø–æ–Ω—è—Ç–Ω–∞
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –±–∞–ª–∞–Ω—Å–æ–º
- –í–æ–∑–≤—Ä–∞—Ç—ã –∏ —à—Ç—Ä–∞—Ñ—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
